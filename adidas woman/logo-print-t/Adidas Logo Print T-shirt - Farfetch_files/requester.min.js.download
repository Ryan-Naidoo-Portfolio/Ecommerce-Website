define("requester",function(){function e(e){return new Promise(function(t,n){var o={method:"GET",data:null,dataType:"json",async:!0,serialized:!1};if(FFAPI.methods.extend(o,e),o.dataType=o.dataType.toLowerCase(),o.url){var r=new XMLHttpRequest;r.onload=function(){if(4===r.readyState)if(200<=r.status&&r.status<=400){var e=function(t,e){switch(e.dataType){case"html":return t;default:try{return JSON.parse(t)}catch(e){return t}}}(r.response,o);t(e)}else n(r)},r.onerror=function(){n("Error: "+r.status+" - "+r.statusText)},r.open(o.method,o.url,o.async),function(e,t){var n,o=t.data;o&&(t.serialized||"GET"!==t.method?t.serialized&&"GET"===t.method?t.url+="?"+o:n="object"==typeof o?JSON.stringify(o):o:(o=function(e){var t="";for(var n in e)"object"!=typeof e[n]?t+="&"+encodeURIComponent(n)+"="+encodeURIComponent(e[n]):"object"==typeof e[n]&&(t+=a(e,n));return t="?"+(t=t.slice(1,t.length))}(o),t.url+=o));e.open(t.method,t.url,t.async),function(e,t){switch(e.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.dataType){case"html":e.setRequestHeader("Content-type","application/x-www-form-urlencoded");break;default:e.setRequestHeader("Content-type","application/json")}t["If-Modified-Since"]&&e.setRequestHeader("If-Modified-Since",t["If-Modified-Since"])}(e,t),e.send(n)}(r,o)}else console.error("REQUESTER: url must be present on requested options.")});function a(e,t){if(null===e[t])return"&"+encodeURIComponent(t)+"=";var n=0,o=e[t].length,r="";if(!e[t].length)return r+"&"+t+"=";for(;n<o;n++)r+="&"+t+"="+e[t][n];return r}}return e.get=function(e,t){return this({url:e,method:"GET",data:t,dataType:"html"})},e.post=function(e,t){return this({url:e,method:"POST",data:t,dataType:"html"})},e.getJson=function(e,t){return this({url:e,method:"GET",data:t,dataType:"json"})},e.postJson=function(e,t){return this({url:e,method:"POST",data:t,dataType:"json"})},e});