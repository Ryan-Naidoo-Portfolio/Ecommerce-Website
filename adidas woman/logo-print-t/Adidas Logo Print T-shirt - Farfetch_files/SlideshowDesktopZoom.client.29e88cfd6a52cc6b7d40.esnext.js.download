(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{2293:function(e,t,s){e.exports={modalContent:"_05d050",modalCloseBtn:"_f2456c",slider:"_13eec5",slide:"_36f1e3",isMaxZoom:"_d5db2e",slideImg:"_a560e2",prevArrow:"_81d1a6",nextArrow:"_288334",bulletsContainer:"_124357"}},2318:function(e,t,s){"use strict";s.r(t);var i=s(0),o=s(271),a=s(1898),r=s(8),n=s(858),l=s(5),c=s(22),h=s(1011),d=s(57),p=s(1),m=s.n(p),u=s(2293),g=s.n(u),f=s(2),v=s.n(f),b=s(23),O=s(1230);function w(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function A(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}class S extends p.Component{constructor(e){super(e),this.state={slideActive:0,isMaxZoom:!1,translateY:0,vw:0,vh:0,zoomOn:{}},this.imageWidth=1e3,this.imageHeight=1334,this.isSafariRTL=null,this.refZoomSlider=m.a.createRef(),this.refSlide=[],this.calculateViewportDebounced=Object(n.a)(this.calculateViewport.bind(this),100),Object(a.a)(this,["_handleCloseModal","_handleOnOpenModal","_handleAfterChange","_handleImgClick","_handleMouseMove","createRefSlide","_handleArrowClick","_handleThumbnailSelect"]),this.seenImages=[]}static getDerivedStateFromProps(e){return e.context.isActive?{}:{isMaxZoom:!1}}componentDidMount(){const e=navigator.userAgent.toLowerCase();this.isSafariRTL=this.props.isRTL&&-1!==e.indexOf("safari")&&-1===e.indexOf("chrome"),this.calculateViewport()}componentDidUpdate(e,t){!e.context.isActive&&this.props.context.isActive&&(this.refZoomSlider.current.methods.goTo(this.props.slideActive,{disableTransition:!0}),window.addEventListener("resize",this.calculateViewportDebounced)),e.context.isActive&&!this.props.context.isActive&&window.removeEventListener("resize",this.calculateViewportDebounced),!t.isMaxZoom&&this.state.isMaxZoom&&(this.refSlide[this.state.slideActive].scrollLeft=this.state.zoomOn.scrollX,this.refSlide[this.state.slideActive].scrollTop=this.state.zoomOn.scrollY)}componentWillUnmount(){window.removeEventListener("resize",this.calculateViewportDebounced)}render(){const e=this.props.images.length>1&&this.props.isDesktop&&this.props.context.isActive,t=this.props.images.length>1&&!this.props.isDesktop&&!this.state.isMaxZoom,s=this.props.images.length>1&&this.props.isDesktop&&this.props.context.isActive&&!this.state.isMaxZoom,a=this.state.isMaxZoom?{onMouseMove:this._handleMouseMove}:{};return Object(i.f)(d.e,{"aria-label":"[Slideshow Modal]",isActive:this.props.context.isActive,onClickToClose:this._handleCloseModal,onOpen:this._handleOnOpenModal,size:"full",modalTheme:{content:g.a.modalContent,closeBtn:g.a.modalCloseBtn},"data-tstid":"slideshowModal"},Object(i.f)(o.d,{"data-tstid":"slideshowZoom"},e&&Object(i.f)(o.e,{activeSlide:this.state.slideActive,items:this.props.images,onSelect:this._handleThumbnailSelect,refSlider:this.refZoomSlider,"data-tstid":"thumbnails",dataTestAttr:"tstid"}),s&&Object(i.f)(m.a.Fragment,null,Object(i.f)(o.a,{className:g.a.prevArrow,refSlider:this.refZoomSlider,flow:"prev",onClick:this._handleArrowClick,isRTL:this.props.isRTL,"data-tstid":"sliderArrowPrevZoom"}),Object(i.f)(o.a,{className:g.a.nextArrow,refSlider:this.refZoomSlider,flow:"next",onClick:this._handleArrowClick,isRTL:this.props.isRTL,"data-tstid":"sliderArrowNextZoom"})),Object(i.f)(o.c,{className:g.a.slider,hasKeysNavigation:e,disableSwipe:this.state.isMaxZoom,isInfinite:!0,onAfterChange:this._handleAfterChange,slidesToShow:1,isRTL:this.props.isRTL,ref:this.refZoomSlider},this.props.images.map((e,t)=>Object(i.f)("div",{key:t+"-image","data-index":t,"data-tstid":"slide",ref:e=>{this.createRefSlide(e,t)},style:this.slideStyle(t),className:v()(g.a.slide,{[g.a.isMaxZoom]:this.state.isMaxZoom&&t===this.state.slideActive}),"data-active":t===this.state.slideActive?"true":null},Object(i.f)(h.a,M({Tag:"img",src:e.src||e.thumbnail,alt:e.alt,className:g.a.slideImg,style:this.imageStyle(t),onClick:this._handleImgClick,onDoubleClick:this._handleImgClick},a))))),t&&Object(i.f)(o.b,{activeSlide:this.state.slideActive,itemsLength:this.props.images.length,theme:{container:g.a.bulletsContainer},isRTL:this.props.isRTL})))}createRefSlide(e,t){this.refSlide[t]=e}trackerImage(e,t=""){this.props.images.length-1===e&&this.props.hasRunwayImages&&Object(b.a)({tid:c.d.IMAGESEENRUNWAYDESKTOP,val:"RunwaySeen"}),Object(b.a)({tid:c.d.IMAGESEEN,val:`${e+1}|withzoom${t}`})}seenImageTracker(e){if(!this.seenImages.includes(e)){this.seenImages.push(e);const t=this.props.hasModelMeasurements&&1===e?"|model":"";this.trackerImage(e,t)}}slideStyle(e){return this.shouldApplyMouseStyles(e)?{transform:`scale(${this.imageHeight/this.state.vh})`}:{}}imageStyle(e){return this.shouldApplyMouseStyles(e)?{transform:`translate3d(0, ${this.state.translateY}%, 0)`}:{}}shouldApplyMouseStyles(e){return!this.props.isTouchDevice&&this.state.isMaxZoom&&this.state.slideActive===e}calculateViewport(){this.setState({vw:window.innerWidth,vh:window.innerHeight})}calculateMouseTranslateY(e){const t=25*(this.imageHeight/this.state.vh)/2,s=t+1,i=-t-1;let o=100*(.5-e/this.state.vh);return o>s?o=s:o<i&&(o=i),o}_handleThumbnailSelect(e){Object(O.a)({isClick:!0,index:e,productId:this.props.productId,size:"thumbnail"})}_handleArrowClick(e,t){Object(O.a)({dir:t,productId:this.props.productId,size:"modal"})}_handleImgClick(e){if(this.state.isMaxZoom)this.setState({isMaxZoom:!1});else{const{vw:t,vh:s}=this.state,i=e.clientX*this.imageWidth/t-t/2,o={};this.props.isTouchDevice?o.zoomOn={scrollX:this.isSafariRTL?-(this.imageWidth-i-t):i,scrollY:e.clientY*this.imageHeight/s-s/2}:o.translateY=this.calculateMouseTranslateY(e.clientY),this.setState(function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?w(s,!0).forEach((function(t){A(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):w(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({isMaxZoom:!0},o)),Object(O.a)({isClick:!0,index:this.state.slideActive,productId:this.props.productId,size:"zoom"})}}_handleMouseMove(e){this.setState({translateY:this.calculateMouseTranslateY(e.clientY)})}_handleAfterChange({dir:e,index:t,isKeyPressed:s}){this.seenImages.includes(t)||this.seenImageTracker(t),s&&Object(O.a)({index:t,productId:this.props.productId,size:"modal",isKeyPressed:s,dir:e}),this.props.onAfterChange&&this.props.onAfterChange(t,{size:"zoom"}),this.setState({slideActive:t,isMaxZoom:!1})}_handleCloseModal(){const e=this.state.isMaxZoom?"zoom":"page";Object(b.a)({tid:c.d.IMAGECLICK,val:`${this.props.productId}_${this.state.slideActive+1}_${e}_close`},"Omnitracking"),this.props.refOriginalSlider&&this.props.refOriginalSlider.current&&this.props.refOriginalSlider.current.methods.goTo(this.state.slideActive,{disableTransition:!0}),this.props.context.closeModal&&this.props.context.closeModal()}_handleOnOpenModal(){const e=this.props.slideActive;this.props.context.isActive&&0===e&&!this.seenImages.includes(e)&&this.seenImageTracker(e),Object(b.a)({tid:c.d.IMAGECLICK,val:`${this.props.productId}_${e+1}_page_open`},"Omnitracking")}}S.defaultProps={images:[]};var x=Object(r.b)(e=>({images:Object(l.V)(e).main,isDesktop:Object(l.cc)(e),isRTL:Object(l.qc)(e),productId:Object(l.R)(e).productId,isTouchDevice:e.isTouchDevice,hasModelMeasurements:Object(l.K)(e),hasRunwayImages:Object(l.C)(e)}))(Object(d.d)(S,"slideshowZoom"));s.d(t,"default",(function(){return x}))}}]);